{"ast":null,"code":"import _objectSpread from\"/home/serban/Desktop/bytes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/home/serban/Desktop/bytes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/serban/Desktop/bytes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/serban/Desktop/bytes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState}from'react';import{API,graphqlOperation}from\"aws-amplify\";import{AmplifyAuthenticator,AmplifySignOut}from'@aws-amplify/ui-react';import{createByte}from'../api/mutations';var Admin=function Admin(){var _useState=useState({index:\"\",size:\"\",price:\"\"}),_useState2=_slicedToArray(_useState,2),byteDetails=_useState2[0],setByteDetails=_useState2[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;if(!(!byteDetails.index||!byteDetails.size||!byteDetails.price)){_context.next=4;break;}return _context.abrupt(\"return\");case 4:_context.next=6;return API.graphql(graphqlOperation(createByte,{input:byteDetails}));case 6:setByteDetails({index:\"\",size:\"\",price:\"\"});window.location.reload(false);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);console.log('error creating todo:',_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[1,10]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"section\",{className:\"admin-wrapper\",children:/*#__PURE__*/_jsx(AmplifyAuthenticator,{children:/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsxs(\"header\",{className:\"form-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Add New Byte\"}),/*#__PURE__*/_jsx(AmplifySignOut,{})]}),/*#__PURE__*/_jsx(\"form\",{className:\"form-wrapper\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-fields\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"index-form\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"index\",children:\"Index\"})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"input\",{id:\"form-index\",name:\"index\",type:\"text\",placeholder:\"Type the index\",onChange:function onChange(e){return setByteDetails(_objectSpread(_objectSpread({},byteDetails),{},{index:e.target.value,size:1}));},required:true})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"price-form\",children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"price\",children:\"Price (\\xA3)\"}),/*#__PURE__*/_jsx(\"input\",{id:\"form-price\",name:\"price\",type:\"text\",placeholder:\"What is the Price of this byte (\\xA3)\",onChange:function onChange(e){return setByteDetails(_objectSpread(_objectSpread({},byteDetails),{},{price:e.target.value}));},required:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"submit-form\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn\",type:\"submit\",children:\"Submit\"})})]})})]})})});};export default Admin;","map":{"version":3,"sources":["/home/serban/Desktop/bytes/src/pages/Admin.js"],"names":["React","useState","API","graphqlOperation","AmplifyAuthenticator","AmplifySignOut","createByte","Admin","index","size","price","byteDetails","setByteDetails","handleSubmit","e","preventDefault","graphql","input","window","location","reload","console","log","target","value"],"mappings":"wpBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,GAAT,CAAcC,gBAAd,KAAsC,aAAtC,CACA,OAASC,oBAAT,CAA+BC,cAA/B,KAAqD,uBAArD,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,eACsBN,QAAQ,CAAC,CAAEO,KAAK,CAAE,EAAT,CAAaC,IAAI,CAAE,EAAnB,CAAuBC,KAAK,CAAE,EAA9B,CAAD,CAD9B,wCACTC,WADS,eACIC,cADJ,eAGhB,GAAMC,CAAAA,YAAY,0FAAG,iBAAOC,CAAP,kHACjBA,CAAC,CAACC,cAAF,GADiB,qBAGT,CAACJ,WAAW,CAACH,KAAb,EAAsB,CAACG,WAAW,CAACF,IAAnC,EAA2C,CAACE,WAAW,CAACD,KAH/C,wFAIPR,CAAAA,GAAG,CAACc,OAAJ,CAAYb,gBAAgB,CAACG,UAAD,CAAa,CAAEW,KAAK,CAAEN,WAAT,CAAb,CAA5B,CAJO,QAKbC,cAAc,CAAC,CAAEJ,KAAK,CAAE,EAAT,CAAaC,IAAI,CAAE,EAAnB,CAAuBC,KAAK,CAAE,EAA9B,CAAD,CAAd,CACAQ,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB,EANa,iFAQbC,OAAO,CAACC,GAAR,CAAY,sBAAZ,cARa,qEAAH,kBAAZT,CAAAA,YAAY,4CAAlB,CAYA,mBACI,gBAAS,SAAS,CAAC,eAAnB,uBACI,KAAC,oBAAD,wBACI,wCACI,gBAAQ,SAAS,CAAC,aAAlB,wBACI,oCADJ,cAEI,KAAC,cAAD,IAFJ,GADJ,cAKI,aAAM,SAAS,CAAC,cAAhB,CAA+B,QAAQ,CAAEA,YAAzC,uBACI,aAAK,SAAS,CAAC,aAAf,wBACI,aAAK,SAAS,CAAC,YAAf,wBACI,gCAAG,cAAO,OAAO,CAAC,OAAf,mBAAH,EADJ,cAEI,gCAAG,cACC,EAAE,CAAC,YADJ,CAEC,IAAI,CAAC,OAFN,CAGC,IAAI,CAAC,MAHN,CAIC,WAAW,CAAC,gBAJb,CAKC,QAAQ,CAAE,kBAACC,CAAD,QAAOF,CAAAA,cAAc,gCAAMD,WAAN,MAAmBH,KAAK,CAAEM,CAAC,CAACS,MAAF,CAASC,KAAnC,CAA0Cf,IAAI,CAAE,CAAhD,GAArB,EALX,CAMC,QAAQ,KANT,EAAH,EAFJ,GADJ,cAYI,YAAK,SAAS,CAAC,YAAf,uBACI,kCAAG,cAAO,OAAO,CAAC,OAAf,0BAAH,cACI,cACI,EAAE,CAAC,YADP,CAEI,IAAI,CAAC,OAFT,CAGI,IAAI,CAAC,MAHT,CAII,WAAW,CAAC,uCAJhB,CAKI,QAAQ,CAAE,kBAACK,CAAD,QAAOF,CAAAA,cAAc,gCAAMD,WAAN,MAAmBD,KAAK,CAAEI,CAAC,CAACS,MAAF,CAASC,KAAnC,GAArB,EALd,CAMI,QAAQ,KANZ,EADJ,GADJ,EAZJ,cAuBI,YAAK,SAAS,CAAC,aAAf,uBACI,eAAQ,SAAS,CAAC,KAAlB,CAAwB,IAAI,CAAC,QAA7B,oBADJ,EAvBJ,GADJ,EALJ,GADJ,EADJ,EADJ,CAyCH,CAxDD,CA0DA,cAAejB,CAAAA,KAAf","sourcesContent":["import React, { useState } from 'react'\nimport { API, graphqlOperation } from \"aws-amplify\";\nimport { AmplifyAuthenticator, AmplifySignOut } from '@aws-amplify/ui-react';\nimport { createByte } from '../api/mutations'\n\nconst Admin = () => {\n    const [byteDetails, setByteDetails] = useState({ index: \"\", size: \"\", price: \"\" });\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        try {\n            if (!byteDetails.index || !byteDetails.size || !byteDetails.price) return\n            await API.graphql(graphqlOperation(createByte, { input: byteDetails }))\n            setByteDetails({ index: \"\", size: \"\", price: \"\" })\n            window.location.reload(false);\n        } catch (err) {\n            console.log('error creating todo:', err)\n        }\n    }\n\n    return (\n        <section className=\"admin-wrapper\">\n            <AmplifyAuthenticator>\n                <section>\n                    <header className=\"form-header\">\n                        <h3>Add New Byte</h3>\n                        <AmplifySignOut></AmplifySignOut>\n                    </header>\n                    <form className=\"form-wrapper\" onSubmit={handleSubmit}>\n                        <div className=\"form-fields\">\n                            <div className=\"index-form\">\n                                <p><label htmlFor=\"index\">Index</label></p>\n                                <p><input\n                                    id=\"form-index\"\n                                    name=\"index\"\n                                    type=\"text\"\n                                    placeholder=\"Type the index\"\n                                    onChange={(e) => setByteDetails({ ...byteDetails, index: e.target.value, size: 1 })}\n                                    required\n                                /></p>\n                            </div>\n                            <div className=\"price-form\">\n                                <p><label htmlFor=\"price\">Price (£)</label>\n                                    <input\n                                        id=\"form-price\"\n                                        name=\"price\"\n                                        type=\"text\"\n                                        placeholder=\"What is the Price of this byte (£)\"\n                                        onChange={(e) => setByteDetails({ ...byteDetails, price: e.target.value })}\n                                        required\n                                    /></p>\n                            </div>\n                            <div className=\"submit-form\">\n                                <button className=\"btn\" type=\"submit\">Submit</button>\n                            </div>\n                        </div>\n                    </form>\n                </section>\n            </AmplifyAuthenticator>\n        </section>\n    )\n}\n\nexport default Admin\n"]},"metadata":{},"sourceType":"module"}